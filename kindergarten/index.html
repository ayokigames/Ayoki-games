<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kindergarten | Strategic Module</title>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: #000; color: #fff; }
        #unity-container { width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; }
        #unity-canvas { width: 100%; height: 100%; background: #000; }
        .loader { 
            position: absolute;
            color: #6366f1; 
            font-family: sans-serif; 
            font-weight: bold; 
            text-transform: uppercase; 
            letter-spacing: 2px;
            z-index: 10;
        }
    </style>
</head>
<body>
    <div id="unity-container">
        <canvas id="unity-canvas"></canvas>
        <div id="loading-text" class="loader">SYNCHRONIZING MODULE...</div>
    </div>
    
    <!-- Requested scripts for Kindergarten port -->
    <script src="/javascript/script.js"></script>
    <script src="Build/Build.loader.js"></script>
    
    <script>
        const canvas = document.querySelector("#unity-canvas");
        const loadingText = document.querySelector("#loading-text");

        const config = {
            dataUrl: "Build/Build.data",
            frameworkUrl: "Build/Build.framework.js",
            codeUrl: "Build/Build.wasm",
            streamingAssetsUrl: "StreamingAssets",
            companyName: "MathHub",
            productName: "Kindergarten",
            productVersion: "1.0",
        };

        if (typeof createUnityInstance !== "undefined") {
            createUnityInstance(canvas, config, (progress) => {
                loadingText.innerText = "DEPLOYING: " + Math.round(100 * progress) + "%";
            }).then(() => {
                loadingText.style.display = "none";
            }).catch((err) => {
                loadingText.innerText = "LOAD ERROR";
                console.error(err);
            });
        } else {
            loadingText.innerText = "WAITING FOR SYSTEM RESPONSE...";
            // Fallback: If local Build files are missing, the app should use the genizymath link in games.js
        }
    </script>
</body>
</html>